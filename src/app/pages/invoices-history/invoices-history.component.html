<div class="button-wrapper">
	<button type="button" class="btn btn-secondary go-back-btn" [routerLink]="['/admin', 'transfer']">
		<i class="icon-arrow-left"></i>
		<span translate>BACK</span>
	</button>
</div>

<div class="card">
	<div class="card-header" translate>CHOOSE_INVOICE_SEE_DETAILS</div>
	<div class="card-block table-responsive">
		<div class="custom-dropdown" (click)="toggleDropdown()">
			<span *ngIf="!sortType; else sortLabel" class="sort-label">Sort By</span>
			<i class="icon-arrow-down"></i>
			<div class="dropdown-content" *ngIf="showDropdown">
				<button (click)="sortBy('INVOICENUMBER')" class="btn btn-primary btn-sm">Invoice Nº</button>
				<button (click)="sortBy('RECEIVERNAME')" class="btn btn-primary btn-sm">Receiver</button>
				<button (click)="sortByAmount()" class="btn btn-primary btn-sm">Amount</button>
				<button (click)="sortByDate()" class="btn btn-primary btn-sm">Date</button>
			</div>
		</div>
		<table class="table table-striped table-hover table-clickable table-sm">
			<thead>
				<tr>
					<th>Invoice Nº</th>
					<th translate class="hide-on-mobile">RECEIVER</th>
					<th translate>UNIT</th>
					<th translate>AMOUNT</th>
					<th translate>CREATED_ON</th>
					<th class="hide-on-mobile">Status</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let invoice of invoiceList" [routerLink]="['/admin', 'invoice', invoice.INVOICENUMBER]">
					<td class="invoice-num">
						<img src="../../../assets/img/flags/{{invoice.FLAG}}.png" alt="a country flag" class="flag">
						<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="currentColor" d="M200-280v-280h80v280h-80Zm240 0v-280h80v280h-80ZM80-120v-80h800v80H80Zm600-160v-280h80v280h-80ZM80-640v-80l400-200 400 200v80H80Z"/></svg>
						***{{invoice.INVOICENUMBER.slice(-6)}}
					</td>
					<td class="hide-on-mobile">{{invoice.RECEIVERNAME}} {{invoice.RECEIVERLAST}}</td>
					<td>{{invoice.UNIT}}</td>
					<td>{{invoice.PAYRECEIVER}}</td>
					<td>{{invoice.DATE}}</td>
					<td class="hide-on-mobile"><strong>{{invoice.INVOICESTATUS}}</strong></td>
				</tr>
			</tbody>
		</table>
	</div>
</div>

<ng-template #sortLabel>
	<span class="sort-label">{{sortType}}</span>
</ng-template>