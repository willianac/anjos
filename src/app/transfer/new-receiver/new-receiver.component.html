<div class="card">
  <div class="card-header" translate>FILL_ALL_FIELDS_FOR_NEW_RECEIVER</div>
  <div class="card-block">
    <form [formGroup]="receiverForm" (ngSubmit)="submit()">

			<label for="country" translate>COUNTRY</label>
			<div class="input-group mb-3">
				<span class="input-group-addon"><i class="icon-location-pin"></i></span>
				<select name="country" id="country" class="select" formControlName="country">
					<option value="" translate>PLEASE_SELECT</option>
					<option value="brazil" translate>BRAZIL</option>
					<option value="usa" translate>USA</option>
				</select>
			</div>

			<div class="name-wrapper">
				<div class="first-name-wrapper">
					<label for="firstName" translate>FIRST_NAME</label>
					<div class="input-group mb-3">
						<span class="input-group-addon"><i class="icon-user"></i></span>
						<input type="text" name="firstName" id="firstName" class="form-control" placeholder="{{'FIRST_NAME' | translate}}" formControlName="firstName">
					</div>
				</div>

				<div class="last-name-wrapper mb-3">
					<label for="surname" translate>LASTNAME</label>
					<div class="input-group">
						<span class="input-group-addon"><i class="icon-user"></i></span>
						<input type="text" name="surname" id="surname" class="form-control" placeholder="{{'LASTNAME' | translate}}" formControlName="surname">
					</div>
					<small 
						*ngIf="receiverForm.get('surname').hasError('pattern')" 
						class="input-error"
						translate
						>INVALID_SURNAME
					</small>
				</div>
			</div>

			<label for="kinship" translate>RELATIONSHIP</label>
			<div class="input-group mb-3">
				<span class="input-group-addon"><i class="icon-user"></i></span>
				<select name="country" id="country" class="select" formControlName="kinship">
					<option value="" translate>PLEASE_SELECT</option>
					<option value="myself" translate>MYSELF</option>
					<option value="friend" translate>FRIEND</option>
					<option value="family" translate>FAMILY</option>
					<option value="business" translate>BUSINESS</option>
					<option value="others" translate>OTHERS</option>
				</select>
			</div>

			<label *ngIf="receiverForm.get('country').value === 'brazil'" for="personType" translate>PERSON_TYPE</label>
			<div *ngIf="receiverForm.get('country').value === 'brazil'" class="input-group mb-3">
				<span class="input-group-addon"><i class="icon-user"></i></span>
				<select name="personType" id="personType" class="select" formControlName="personType">
					<option value="fisica" translate>INDIVIDUAL</option>
					<option value="juridica" translate>CORPORATION</option>
				</select>
			</div>

			<div *ngIf="receiverForm.get('country').value === 'brazil' && receiverForm.get('personType').value !== ''; else document" class="mb-3">
				<div *ngIf="receiverForm.get('personType').value === 'fisica'; else cnpj" class="field-wrapper">
					<label for="document">CPF</label>
					<div class="input-group">
						<span class="input-group-addon"><i class="icon-doc"></i></span>
						<input type="text" formControlName="document" name="document" id="document" class="form-control" placeholder="CPF">
					</div>
					<small 
						*ngIf="!isCPFValid() && receiverForm.get('document').touched" 
						class="input-error"
						translate
						>INVALID_CPF
					</small>
				</div>

				<ng-template #cnpj>
					<div class="field-wrapper mb-3">
						<label for="document">CNPJ</label>
						<div class="input-group">
							<span class="input-group-addon"><i class="icon-doc"></i></span>
							<input type="text" formControlName="document" name="document" id="document" class="form-control" placeholder="CNPJ">
						</div>
						<small 
							*ngIf="!isCNPJValid() && receiverForm.get('document').touched"
							class="input-error"
							translate
							>INVALID_CNPJ
						</small>
				</div>
				</ng-template>
			</div>

			<ng-template #document>
				<label for="document" translate>DOCUMENT</label>
				<div class="input-group mb-3">
					<span class="input-group-addon"><i class="icon-doc"></i></span>
					<input type="text" formControlName="document" name="document" id="document" class="form-control" placeholder="{{'DOCUMENT' | translate}}">
				</div>
			</ng-template>
				

			<label for="address" translate>ADDRESS</label>
			<div class="input-group mb-3">
				<span class="input-group-addon"><i class="icon-home"></i></span>
				<input type="text" formControlName="address" name="address" id="address" class="form-control" placeholder="{{'ADDRESS' | translate}}">
			</div>

			<div class="location-wrapper">
				<div class="city-wrapper">
					<label for="city" translate>CITY</label>
					<div class="input-group mb-3">
						<span class="input-group-addon"><i class="icon-location-pin"></i></span>
						<input type="text" formControlName="city" name="city" id="city" class="form-control" placeholder="{{'CITY' | translate}}">
					</div>
				</div>

				<div class="state-wrapper mb-3">
					<label for="state" translate>STATE</label>
					<div class="input-group">
						<span class="input-group-addon"><i class="icon-location-pin"></i></span>
						<input type="text" formControlName="state" name="state" id="state" class="form-control" placeholder="{{'STATE' | translate}}" maxlength="3">
					</div>
				</div>
			</div>

			<div class="zip-phone-wrapper">
				<div class="zip-wrapper mb-3">
					<label for="zip" translate>ZIPCODE</label>
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-hashtag"></i></span>
						<input type="text" formControlName="zip" name="zip" id="zip" class="form-control" placeholder="{{'ZIPCODE' | translate}}">
					</div>
				</div>

				<div class="phone-wrapper mb-3">
					<label for="phone" translate>PHONE</label>
					<div class="input-group">
						<span class="input-group-addon"><i class="icon-phone"></i></span>
						<input appPhoneMask maxlength="20" type="text" formControlName="phone" name="phone" id="phone" class="form-control" placeholder="{{'PHONE' | translate}}">
					</div>
					<small 
						*ngIf="receiverForm.get('phone').hasError('minlength') && receiverForm.get('phone').touched" 
						class="input-error"
						translate
						>INVALID_PHONE
					</small>
				</div>
			</div>

			<div class="field-wrapper mb-3">
				<label for="email" translate>EMAIL</label>
				<div class="input-group">
					<span class="input-group-addon"><i class="icon-envelope"></i></span>
					<input type="email" formControlName="email" name="email" id="email" class="form-control" placeholder="{{'EMAIL' | translate}}">
				</div>
				<small 
					*ngIf="receiverForm.get('email').hasError('email') && receiverForm.get('email').touched" 
					class="input-error"
					translate
					>INVALID_EMAIL
				</small>
			</div>

			<div class="button-wrapper">
				<button [routerLink]="['/admin']" type="button" class="btn btn-secondary" translate>BACK</button>
				<button type="submit" class="btn btn-primary" translate>CONTINUE</button>
			</div>
		</form>
  </div>
</div>